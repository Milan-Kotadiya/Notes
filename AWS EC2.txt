install git - apt install git
install node js from = https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-up-node-on-ec2-instance.html
install npm - apt install npm -y 

install serve or apache or nginx globally - npm install -g serve(Serve), apt install -y apache2(Apache2)

if you use serve as a server then install pm2; otherwise no need to install it.

install pm2 globally - {
npm install pm2 -g.
apt update && apt install sudo curl && curl -sL https://raw.githubusercontent.com/Unitech/pm2/master/packager/setup.deb.sh | sudo -E bash -
pm2 completion install.
npm install pm2 -g && pm2 update.
} 


make folder workspace - mkdir workspace
clone from git -git clone {link paste}

go to instane > security group > edit inbound rule Add http and custom tcp

go to clone - ls clone
install npm in clone - "npm install" (after install you can see node module folder) {it download all dependecy packages automaticaly by node file}

check ls = you can see build, node module, package jason, pacage-lock.json, public, src


if you install serve then follow this, otherwise for change files

then serve build = serve -s build

go to clone folder = pm2 serve build 80 --spa (80 ni jagye game (3000 etc)te chalavi shakay)



Other Command 
for back - cd ..
see list - ls
goto folder - cd foldername
delete file - rm filename
delete file with all content- rm -i filename/*
delete empty folder - rmdir foldername
delete full folder - rm -rf foldername/
copy paste of files -  cp -a /home/ubuntu/workspace/Humans-Softtech/build/. /var/www/html/

example :  cd /var/www/html/


/etc/apache2/sites-enabled/000-default.conf

sudo a2enmod rewrite

sudo /etc/init.d/apache2 restart

Go to /etc/apache2/sites-enabled => nano 000-default.conf

<Directory "/var/www/html">
 RewriteEngine on 
# Don't rewrite files or directories 
RewriteCond %{REQUEST_FILENAME} -f [OR] 
RewriteCond %{REQUEST_FILENAME} -d 
RewriteRule ^ - [L] 
# Rewrite everything else to index.html to allow html5 state links 
RewriteRule ^ index.html [L] 
</Directory>


Apache2 Reload = service apache2 reload

For Nginx : visite site below
https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-20-04

For ssl certificate
https://certbot.eff.org/instructions?ws=apache&os=ubuntufocal


// Auto Setup
https://youtu.be/3jXtTSnA8zw?si=oxhxZ3ORGVCpaihJ


AWS UBUNTO CD-CI Via GitHub

- upgrade
- update 
- install node js (same version 18)
- install npm 
- install nginx
- uws enable

- runner connect
- svc.sh install 
- svc.sh start

runner ideal state

- add .yml file (disable all Commands)
- check all code is there?
- enable command in .yml


SSL
nginx
Copy code
server {
    listen 80 default_server;
    listen [::]:80 default_server;
    server_name yourdomain.com;

    # Redirect HTTP to HTTPS
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;
    server_name yourdomain.com;

    # SSL Certificate and Key
    ssl_certificate /etc/letsencrypt/live/yourdomain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/yourdomain.com/privkey.pem;
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_prefer_server_ciphers on;

    # Serve the React front-end
    location / {
        root /var/www/html/build;
        try_files $uri /index.html;
    }

    # Proxy API requests to the backend
    location /api/ {
        proxy_pass http://localhost:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
